<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LIVE BUS TRACKER | School Transport Hub</title>
    <link rel="icon" href="Dps logo.jpeg" type="image/jpeg">
    <link rel="stylesheet" href="style.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;800&family=JetBrains+Mono:wght@700&display=swap"
        rel="stylesheet">
</head>

<body>
    <header>
        <div class="school-section">
            <img src="school logo.png" alt="School Logo" class="logo">
            <div class="title-group">
                <h1>BUS TRACKER</h1>
                <p>Delhi Public School • Smart Gateway Hub</p>
            </div>
        </div>
        <div class="clock-section">
            <div id="time">00:00:00</div>
            <div id="date">JAN 14, 2026</div>
        </div>
    </header>

    <main>
        <!-- Stationary Section -->
        <section class="board-section terminal-section">
            <div class="section-header">
                <div class="header-main">
                    <span class="status-dot green"></span>
                    <h2>ASSIGNED PLATFORMS</h2>
                </div>
            </div>
            <div class="slider-container" id="terminalContainer">
                <div class="slider-track" id="terminalTrack">
                    <!-- Pages will be injected here -->
                </div>
            </div>
        </section>

        <!-- Transit Section -->
        <section class="board-section transit-section">
            <div class="section-header">
                <div class="header-main">
                    <span class="status-dot yellow pulse"></span>
                    <h2>WAITING</h2>
                </div>
            </div>
            <div class="slider-container" id="transitContainer">
                <div class="slider-track" id="transitTrack">
                    <!-- Pages will be injected here -->
                </div>
            </div>
        </section>
    </main>

    <div id="alertBanner" class="alert-banner">
        <div class="banner-content">
            <span class="banner-icon">⚠️</span>
            <p><strong>ATTENTION:</strong> kindly wait at the open auditorium until the buses are assigned places.</p>
        </div>
    </div>

    <footer>
        <div class="attribution">
            MADE BY <span>A.ADVAITH 7P</span>
        </div>
        <div class="system-tag">
            SECURE LIVE GPS FEED • AUTO-REFRESH ACTIVE
        </div>
    </footer>

    <script>
        const buses = [
            { id: "S01", status: "BUS BAY AREA" }, { id: "S02", status: "BUS BAY AREA" },
            { id: "S03", status: "OPEN AUDITORIUM" }, { id: "S04", status: "OPEN AUDITORIUM" },
            { id: "S05", status: "BUS BAY AREA" }, { id: "S06", status: "BUS BAY AREA" },
            { id: "S07", status: "WAITING" }, { id: "S08", status: "ON ROAD" },
            { id: "S09", status: "WAITING" }, { id: "S10", status: "ON ROAD" },
            { id: "S11", status: "BUS BAY AREA" }, { id: "S12", status: "OPEN AUDITORIUM" },
            { id: "S13", status: "BUS BAY AREA" }, { id: "S14", status: "BUS BAY AREA" },
            { id: "S15", status: "WAITING" }, { id: "S16", status: "WAITING" },
            { id: "S17", status: "ON ROAD" }, { id: "S18", status: "ON ROAD" },
            { id: "S19", status: "BUS BAY AREA" }, { id: "S20", status: "BUS BAY AREA" },
            { id: "S21", status: "OPEN AUDITORIUM" }, { id: "S22", status: "OPEN AUDITORIUM" },
            { id: "S23", status: "WAITING" }, { id: "S24", status: "WAITING" },
            { id: "S25", status: "ON ROAD" }, { id: "S26", status: "ON ROAD" },
            { id: "S27", status: "BUS BAY AREA" }, { id: "S28", status: "BUS BAY AREA" },
            { id: "S29", status: "OPEN AUDITORIUM" }, { id: "S30", status: "OPEN AUDITORIUM" },
            { id: "S31", status: "WAITING" }, { id: "S32", status: "WAITING" },
            { id: "S33", status: "ON ROAD" }, { id: "S34", status: "ON ROAD" },
            { id: "S35", status: "WAITING" }
        ];

        function updateClock() {
            const now = new Date();
            const timeEl = document.getElementById('time');
            const dateEl = document.getElementById('date');

            if (timeEl) {
                timeEl.textContent = now.toLocaleTimeString('en-US', {
                    hour12: true,
                    hour: '2-digit',
                    minute: '2-digit',
                    second: '2-digit'
                }).toUpperCase();
            }
            if (dateEl) {
                dateEl.textContent = now.toLocaleDateString('en-US', {
                    month: 'short',
                    day: 'numeric',
                    year: 'numeric'
                }).toUpperCase();
            }
        }

        function createSlider(type, items, perPage) {
            const track = document.getElementById(`${type}Track`);
            const totalPages = Math.ceil(items.length / perPage);
            track.innerHTML = '';

            if (items.length === 0) {
                track.innerHTML = '<div class="no-data">SYSTEM READY • MONITORING ZONES</div>';
                return;
            }

            for (let i = 0; i < totalPages; i++) {
                const pageItems = items.slice(i * perPage, (i + 1) * perPage);
                const page = document.createElement('div');
                page.className = 'slide-page';

                const table = document.createElement('table');
                table.className = 'display-board';
                table.innerHTML = `
                    <thead>
                        <tr class="board-header">
                            <th style="width: 35%">BUS ID</th>
                            <th style="width: 65%">LOCATION</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${pageItems.map(bus => {
                    const statusClass = bus.status.replace(/\s+/g, '-').toLowerCase();
                    return `
                                <tr class="bus-row row-${statusClass}">
                                    <td class="bus-id-cell">
                                        <div class="bus-badge">${bus.id}</div>
                                    </td>
                                    <td class="status-cell">
                                        <div class="status-wrapper ${statusClass}">
                                            <span class="status-text">${bus.status}</span>
                                        </div>
                                    </td>
                                </tr>
                            `;
                }).join('')}
                    </tbody>
                `;
                page.appendChild(table);
                track.appendChild(page);
            }

            if (totalPages > 1) {
                let current = 0;
                setInterval(() => {
                    current = (current + 1) % totalPages;
                    track.style.transform = `translateX(-${current * 100}%)`;
                }, 7000);
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            updateClock();
            setInterval(updateClock, 1000);

            // Terminal section shows active platforms and moving buses
            const terminalBuses = buses.filter(b => b.status === "BUS BAY AREA" || b.status === "OPEN AUDITORIUM" || b.status === "ON ROAD");
            // Waiting section shows only buses in the waiting pool
            const transitBuses = buses.filter(b => b.status === "WAITING");

            createSlider('terminal', terminalBuses, 6);
            createSlider('transit', transitBuses, 4);

            console.log("Professional Dashboard Initialized for Public Display.");
        });
    </script>
</body>

</html>